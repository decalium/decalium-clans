--- a/net/minecraft/world/level/levelgen/surfacebuilders/NetherForestSurfaceBuilder.java
+++ b/net/minecraft/world/level/levelgen/surfacebuilders/NetherForestSurfaceBuilder.java
@@ -20,6 +20,7 @@
         super(codec);
     }
 
+    @Override
     public void apply(Random random, ChunkAccess chunk, Biome biome, int x, int z, int height, double noise, BlockState defaultBlock, BlockState defaultFluid, int seaLevel, int i, long l, SurfaceBuilderBaseConfiguration surfaceBuilderBaseConfiguration) {
         int j = seaLevel;
         int k = x & 15;
@@ -33,7 +34,7 @@
         int o = -1;
         BlockState blockState = surfaceBuilderBaseConfiguration.getUnderMaterial();
 
-        for(int p = 127; p >= i; --p) {
+        for(int p = height; p >= i; --p) { // Paper - fix MC-187716 - use configured height
             mutableBlockPos.set(k, p, m);
             BlockState blockState2 = surfaceBuilderBaseConfiguration.getTopMaterial();
             BlockState blockState3 = chunk.getBlockState(mutableBlockPos);
@@ -72,6 +73,7 @@
 
     }
 
+    @Override
     public void initNoise(long seed) {
         if (this.seed != seed || this.decorationNoise == null) {
             this.decorationNoise = new PerlinNoise(new WorldgenRandom(seed), ImmutableList.of(0));
