--- a/net/minecraft/world/level/levelgen/surfacebuilders/NetherSurfaceBuilder.java
+++ b/net/minecraft/world/level/levelgen/surfacebuilders/NetherSurfaceBuilder.java
@@ -22,6 +22,7 @@
         super(codec);
     }
 
+    @Override
     public void apply(Random random, ChunkAccess chunk, Biome biome, int x, int z, int height, double noise, BlockState defaultBlock, BlockState defaultFluid, int seaLevel, int i, long l, SurfaceBuilderBaseConfiguration surfaceBuilderBaseConfiguration) {
         int j = seaLevel;
         int k = x & 15;
@@ -35,7 +36,7 @@
         BlockState blockState = surfaceBuilderBaseConfiguration.getTopMaterial();
         BlockState blockState2 = surfaceBuilderBaseConfiguration.getUnderMaterial();
 
-        for(int p = 127; p >= i; --p) {
+        for(int p = height; p >= i; --p) { // Paper - fix MC-187716 - use configured height
             mutableBlockPos.set(k, p, m);
             BlockState blockState3 = chunk.getBlockState(mutableBlockPos);
             if (blockState3.isAir()) {
@@ -79,6 +80,7 @@
 
     }
 
+    @Override
     public void initNoise(long seed) {
         if (this.seed != seed || this.decorationNoise == null) {
             this.decorationNoise = new PerlinNoise(new WorldgenRandom(seed), IntStream.rangeClosed(-3, 0));
